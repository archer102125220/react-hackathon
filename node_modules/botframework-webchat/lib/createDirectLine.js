"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _botframeworkDirectlinejs = require("botframework-directlinejs");

function _default(_ref) {
  var conversationId = _ref.conversationId,
      domain = _ref.domain,
      fetch = _ref.fetch,
      pollingInterval = _ref.pollingInterval,
      secret = _ref.secret,
      token = _ref.token,
      webSocket = _ref.webSocket;
  return new _botframeworkDirectlinejs.DirectLine({
    conversationId: conversationId,
    domain: domain,
    fetch: fetch,
    pollingInterval: pollingInterval,
    secret: secret,
    token: token,
    webSocket: webSocket,
    botAgent: 'webchat',
    createFormData: function createFormData(attachments) {
      var formData = new FormData();
      attachments.forEach(function (_ref2) {
        var contentType = _ref2.contentType,
            data = _ref2.data,
            filename = _ref2.filename,
            name = _ref2.name;
        formData.append(name, new Blob(data, {
          contentType: contentType
        }), filename);
      });
      return formData;
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVEaXJlY3RMaW5lLmpzIl0sIm5hbWVzIjpbImNvbnZlcnNhdGlvbklkIiwiZG9tYWluIiwiZmV0Y2giLCJwb2xsaW5nSW50ZXJ2YWwiLCJzZWNyZXQiLCJ0b2tlbiIsIndlYlNvY2tldCIsIkRpcmVjdExpbmUiLCJib3RBZ2VudCIsImNyZWF0ZUZvcm1EYXRhIiwiYXR0YWNobWVudHMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZm9yRWFjaCIsImNvbnRlbnRUeXBlIiwiZGF0YSIsImZpbGVuYW1lIiwibmFtZSIsImFwcGVuZCIsIkJsb2IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFZSx3QkFBc0Y7QUFBQSxNQUEzRUEsY0FBMkUsUUFBM0VBLGNBQTJFO0FBQUEsTUFBM0RDLE1BQTJELFFBQTNEQSxNQUEyRDtBQUFBLE1BQW5EQyxLQUFtRCxRQUFuREEsS0FBbUQ7QUFBQSxNQUE1Q0MsZUFBNEMsUUFBNUNBLGVBQTRDO0FBQUEsTUFBM0JDLE1BQTJCLFFBQTNCQSxNQUEyQjtBQUFBLE1BQW5CQyxLQUFtQixRQUFuQkEsS0FBbUI7QUFBQSxNQUFaQyxTQUFZLFFBQVpBLFNBQVk7QUFDbkcsU0FBTyxJQUFJQyxvQ0FBSixDQUFlO0FBQ3BCUCxJQUFBQSxjQUFjLEVBQWRBLGNBRG9CO0FBRXBCQyxJQUFBQSxNQUFNLEVBQU5BLE1BRm9CO0FBR3BCQyxJQUFBQSxLQUFLLEVBQUxBLEtBSG9CO0FBSXBCQyxJQUFBQSxlQUFlLEVBQWZBLGVBSm9CO0FBS3BCQyxJQUFBQSxNQUFNLEVBQU5BLE1BTG9CO0FBTXBCQyxJQUFBQSxLQUFLLEVBQUxBLEtBTm9CO0FBT3BCQyxJQUFBQSxTQUFTLEVBQVRBLFNBUG9CO0FBUXBCRSxJQUFBQSxRQUFRLEVBQUUsU0FSVTtBQVNwQkMsSUFBQUEsY0FBYyxFQUFFLHdCQUFBQyxXQUFXLEVBQUk7QUFDN0IsVUFBTUMsUUFBUSxHQUFHLElBQUlDLFFBQUosRUFBakI7QUFFQUYsTUFBQUEsV0FBVyxDQUFDRyxPQUFaLENBQW9CLGlCQUEyQztBQUFBLFlBQXhDQyxXQUF3QyxTQUF4Q0EsV0FBd0M7QUFBQSxZQUEzQkMsSUFBMkIsU0FBM0JBLElBQTJCO0FBQUEsWUFBckJDLFFBQXFCLFNBQXJCQSxRQUFxQjtBQUFBLFlBQVhDLElBQVcsU0FBWEEsSUFBVztBQUM3RE4sUUFBQUEsUUFBUSxDQUFDTyxNQUFULENBQWdCRCxJQUFoQixFQUFzQixJQUFJRSxJQUFKLENBQVNKLElBQVQsRUFBZTtBQUFFRCxVQUFBQSxXQUFXLEVBQVhBO0FBQUYsU0FBZixDQUF0QixFQUF1REUsUUFBdkQ7QUFDRCxPQUZEO0FBSUEsYUFBT0wsUUFBUDtBQUNEO0FBakJtQixHQUFmLENBQVA7QUFtQkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RMaW5lIH0gZnJvbSAnYm90ZnJhbWV3b3JrLWRpcmVjdGxpbmVqcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh7Y29udmVyc2F0aW9uSWQsIGRvbWFpbiwgZmV0Y2gsIHBvbGxpbmdJbnRlcnZhbCwgc2VjcmV0LCB0b2tlbiwgd2ViU29ja2V0fSkge1xuICByZXR1cm4gbmV3IERpcmVjdExpbmUoe1xuICAgIGNvbnZlcnNhdGlvbklkLFxuICAgIGRvbWFpbixcbiAgICBmZXRjaCxcbiAgICBwb2xsaW5nSW50ZXJ2YWwsXG4gICAgc2VjcmV0LFxuICAgIHRva2VuLFxuICAgIHdlYlNvY2tldCxcbiAgICBib3RBZ2VudDogJ3dlYmNoYXQnLFxuICAgIGNyZWF0ZUZvcm1EYXRhOiBhdHRhY2htZW50cyA9PiB7XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgICBhdHRhY2htZW50cy5mb3JFYWNoKCh7IGNvbnRlbnRUeXBlLCBkYXRhLCBmaWxlbmFtZSwgbmFtZSB9KSA9PiB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBuZXcgQmxvYihkYXRhLCB7IGNvbnRlbnRUeXBlIH0pLCBmaWxlbmFtZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZvcm1EYXRhO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=