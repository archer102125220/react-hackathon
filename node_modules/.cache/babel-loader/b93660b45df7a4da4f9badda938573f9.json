{"ast":null,"code":"import _classCallCheck from \"C:\\\\cmder\\\\react-hackathon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\cmder\\\\react-hackathon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\cmder\\\\react-hackathon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\cmder\\\\react-hackathon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\cmder\\\\react-hackathon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\cmder\\\\react-hackathon\\\\src\\\\routes\\\\HighCharts.js\";\nimport React, { Component } from 'react';\nimport { Chart } from 'primereact/chart';\nimport { connect } from 'react-redux'; //https://github.com/jerairrest/react-chartjs-2\n\nvar HighCharts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HighCharts, _Component);\n\n  function HighCharts() {\n    var _this;\n\n    _classCallCheck(this, HighCharts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HighCharts).call(this));\n    _this.state = {\n      data: {\n        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],\n        datasets: [{\n          label: ' ',\n          data: [65, 59, 80, 81, 56, 55, 40],\n          fill: true,\n          borderColor: '#4bc0c0'\n        }]\n      },\n      options: {\n        title: {\n          display: true,\n          text: '您的購買統計圖',\n          fontSize: 16\n        },\n        legend: {\n          position: 'bottom'\n        }\n      },\n      updata: true\n    };\n    return _this;\n  }\n\n  _createClass(HighCharts, [{\n    key: \"DataIni\",\n    value: function DataIni() {\n      if (this.props.products[0] !== undefined && this.props.shoppingcars[0] !== undefined && this.state.updata === true) {\n        var data = this.state.data;\n        var product = this.props.products[0].product;\n        var shoppingcars = this.props.shoppingcars[0].cars;\n        data.labels = product.map(function (val) {\n          return val.homepage + \" \" + val.description;\n        });\n        data.datasets[0].data = data.datasets[0].data.map(function (val, key) {\n          return product.filter(function (valu, index) {\n            return index === key;\n          })[0];\n        }).filter(function (val) {\n          return val !== undefined;\n        }).map(function (val) {\n          return shoppingcars.filter(function (valu) {\n            return valu.homepage === val.homepage && valu.description === val.description;\n          }).length;\n        });\n        this.setState({\n          data: data,\n          updata: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.DataIni();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Chart, {\n        style: {\n          width: \"100%\",\n          high: \"500px\"\n        },\n        type: \"bar\",\n        data: this.state.data,\n        options: this.state.options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return HighCharts;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.products,\n    shoppingcars: state.cars\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HighCharts);","map":{"version":3,"sources":["C:\\cmder\\react-hackathon\\src\\routes\\HighCharts.js"],"names":["React","Component","Chart","connect","HighCharts","state","data","labels","datasets","label","fill","borderColor","options","title","display","text","fontSize","legend","position","updata","props","products","undefined","shoppingcars","product","cars","map","val","homepage","description","key","filter","valu","index","length","setState","DataIni","width","high","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Chart } from 'primereact/chart';\r\nimport { connect } from 'react-redux';\r\n//https://github.com/jerairrest/react-chartjs-2\r\n\r\n\r\nclass HighCharts extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: {\r\n                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],\r\n                datasets: [\r\n                    {\r\n                        label: ' ',\r\n                        data: [65, 59, 80, 81, 56, 55, 40],\r\n                        fill: true,\r\n                        borderColor: '#4bc0c0'\r\n                    }\r\n                ]\r\n            },\r\n            options: {\r\n                title: {\r\n                    display: true,\r\n                    text: '您的購買統計圖',\r\n                    fontSize: 16\r\n                },\r\n                legend: {\r\n                    position: 'bottom'\r\n                }\r\n            },\r\n            updata: true\r\n        };\r\n\r\n    }\r\n    DataIni() {\r\n        if (this.props.products[0] !== undefined && this.props.shoppingcars[0] !== undefined && this.state.updata === true) {\r\n            let { data } = this.state;\r\n            const product = this.props.products[0].product;\r\n            const shoppingcars = this.props.shoppingcars[0].cars;\r\n            data.labels = product.map((val) => val.homepage + \" \" + val.description);\r\n            data.datasets[0].data = data.datasets[0].data\r\n                .map((val, key) => product.filter((valu, index) => index === key)[0])\r\n                .filter((val) => val !== undefined)\r\n                .map((val) => shoppingcars.filter((valu) => valu.homepage === val.homepage && valu.description === val.description).length);\r\n            this.setState({ data, updata: false });\r\n        }\r\n    }\r\n    render() {\r\n        this.DataIni();\r\n        return (\r\n            <div>\r\n                <Chart style={{\r\n                    width:\"100%\",\r\n                    high:\"500px\"\r\n                }} type=\"bar\" data={this.state.data} options={this.state.options} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ products: state.products, shoppingcars: state.cars });\r\nconst mapDispatchToProps = (dispatch) => ({});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HighCharts);\r\n"]},"metadata":{},"sourceType":"module"}