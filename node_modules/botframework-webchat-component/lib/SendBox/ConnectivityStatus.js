"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectConnectivityAlert = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _connectToWebChat = _interopRequireDefault(require("../connectToWebChat"));

var _Localize = require("../Localization/Localize");

var _ErrorNotificationIcon = _interopRequireDefault(require("../Attachment/Assets/ErrorNotificationIcon"));

var _WarningNotificationIcon = _interopRequireDefault(require("../Attachment/Assets/WarningNotificationIcon"));

var _classnames2 = _interopRequireDefault(require("classnames"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var connectConnectivityAlert = function connectConnectivityAlert() {
  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {
    selectors[_key] = arguments[_key];
  }

  return _connectToWebChat.default.apply(void 0, [function (_ref) {
    var connectivityStatus = _ref.connectivityStatus,
        language = _ref.language;
    return {
      connectivityStatus: connectivityStatus,
      language: language
    };
  }].concat(selectors));
};

exports.connectConnectivityAlert = connectConnectivityAlert;

var _default = connectConnectivityAlert(function (_ref2) {
  var styleSet = _ref2.styleSet;
  return {
    styleSet: styleSet
  };
})(function (_ref3) {
  var _classnames;

  var connectivityStatus = _ref3.connectivityStatus,
      language = _ref3.language,
      styleSet = _ref3.styleSet;
  return _react.default.createElement("div", {
    "aria-live": "polite",
    className: (0, _classnames2.default)((_classnames = {}, _defineProperty(_classnames, styleSet.errorNotification, connectivityStatus === 'error'), _defineProperty(_classnames, styleSet.warningNotification, connectivityStatus === 'connectingslow'), _classnames)),
    role: "status"
  }, connectivityStatus === 'connectingslow' ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_WarningNotificationIcon.default, null), (0, _Localize.localize)('SLOW_CONNECTION_NOTIFICATION', language)) : connectivityStatus === 'error' && _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_ErrorNotificationIcon.default, null), (0, _Localize.localize)('FAILED_CONNECTION_NOTIFICATION', language)));
});

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9TZW5kQm94L0Nvbm5lY3Rpdml0eVN0YXR1cy5qcyJdLCJuYW1lcyI6WyJjb25uZWN0Q29ubmVjdGl2aXR5QWxlcnQiLCJzZWxlY3RvcnMiLCJjb25uZWN0VG9XZWJDaGF0IiwiY29ubmVjdGl2aXR5U3RhdHVzIiwibGFuZ3VhZ2UiLCJzdHlsZVNldCIsImVycm9yTm90aWZpY2F0aW9uIiwid2FybmluZ05vdGlmaWNhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFFQSxJQUFNQSx3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQTJCO0FBQUEsb0NBQUlDLFNBQUo7QUFBSUEsSUFBQUEsU0FBSjtBQUFBOztBQUFBLFNBQWtCQyx5Q0FDakQ7QUFBQSxRQUFHQyxrQkFBSCxRQUFHQSxrQkFBSDtBQUFBLFFBQXVCQyxRQUF2QixRQUF1QkEsUUFBdkI7QUFBQSxXQUF1QztBQUFFRCxNQUFBQSxrQkFBa0IsRUFBbEJBLGtCQUFGO0FBQXNCQyxNQUFBQSxRQUFRLEVBQVJBO0FBQXRCLEtBQXZDO0FBQUEsR0FEaUQsU0FFOUNILFNBRjhDLEVBQWxCO0FBQUEsQ0FBakM7Ozs7ZUFLZUQsd0JBQXdCLENBQ3JDO0FBQUEsTUFBR0ssUUFBSCxTQUFHQSxRQUFIO0FBQUEsU0FBbUI7QUFBRUEsSUFBQUEsUUFBUSxFQUFSQTtBQUFGLEdBQW5CO0FBQUEsQ0FEcUMsQ0FBeEIsQ0FHYjtBQUFBOztBQUFBLE1BQ0VGLGtCQURGLFNBQ0VBLGtCQURGO0FBQUEsTUFFRUMsUUFGRixTQUVFQSxRQUZGO0FBQUEsTUFHRUMsUUFIRixTQUdFQSxRQUhGO0FBQUEsU0FLRTtBQUNFLGlCQUFVLFFBRFo7QUFFRSxJQUFBLFNBQVMsRUFBRywwRUFDVEEsUUFBUSxDQUFDQyxpQkFEQSxFQUNvQkgsa0JBQWtCLEtBQUssT0FEM0MsZ0NBRVRFLFFBQVEsQ0FBQ0UsbUJBRkEsRUFFc0JKLGtCQUFrQixLQUFLLGdCQUY3QyxnQkFGZDtBQU1FLElBQUEsSUFBSSxFQUFDO0FBTlAsS0FTSUEsa0JBQWtCLEtBQUssZ0JBQXZCLEdBQ0UsNkJBQUMsY0FBRCxDQUFPLFFBQVAsUUFDRSw2QkFBQyxnQ0FBRCxPQURGLEVBRUksd0JBQVMsOEJBQVQsRUFBeUNDLFFBQXpDLENBRkosQ0FERixHQUtFRCxrQkFBa0IsS0FBSyxPQUF2QixJQUNBLDZCQUFDLGNBQUQsQ0FBTyxRQUFQLFFBQ0UsNkJBQUMsOEJBQUQsT0FERixFQUVJLHdCQUFTLGdDQUFULEVBQTJDQyxRQUEzQyxDQUZKLENBZk4sQ0FMRjtBQUFBLENBSGEsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBjb25uZWN0VG9XZWJDaGF0IGZyb20gJy4uL2Nvbm5lY3RUb1dlYkNoYXQnO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICcuLi9Mb2NhbGl6YXRpb24vTG9jYWxpemUnO1xuaW1wb3J0IEVycm9yTm90aWZpY2F0aW9uSWNvbiBmcm9tICcuLi9BdHRhY2htZW50L0Fzc2V0cy9FcnJvck5vdGlmaWNhdGlvbkljb24nO1xuaW1wb3J0IFdhcm5pbmdOb3RpZmljYXRpb25JY29uIGZyb20gJy4uL0F0dGFjaG1lbnQvQXNzZXRzL1dhcm5pbmdOb3RpZmljYXRpb25JY29uJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5jb25zdCBjb25uZWN0Q29ubmVjdGl2aXR5QWxlcnQgPSAoLi4uc2VsZWN0b3JzKSA9PiBjb25uZWN0VG9XZWJDaGF0KFxuICAoeyBjb25uZWN0aXZpdHlTdGF0dXMsIGxhbmd1YWdlIH0pID0+ICh7IGNvbm5lY3Rpdml0eVN0YXR1cywgbGFuZ3VhZ2UgfSksXG4gIC4uLnNlbGVjdG9yc1xuKVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0Q29ubmVjdGl2aXR5QWxlcnQoXG4gICh7IHN0eWxlU2V0IH0pID0+ICh7IHN0eWxlU2V0IH0pXG4pKFxuICAoe1xuICAgIGNvbm5lY3Rpdml0eVN0YXR1cyxcbiAgICBsYW5ndWFnZSxcbiAgICBzdHlsZVNldFxuICB9KSA9PlxuICAgIDxkaXZcbiAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgICBjbGFzc05hbWU9eyBjbGFzc25hbWVzKHtcbiAgICAgICAgW3N0eWxlU2V0LmVycm9yTm90aWZpY2F0aW9uXTogY29ubmVjdGl2aXR5U3RhdHVzID09PSAnZXJyb3InLFxuICAgICAgICBbc3R5bGVTZXQud2FybmluZ05vdGlmaWNhdGlvbl06IGNvbm5lY3Rpdml0eVN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmdzbG93J1xuICAgICAgfSkgfVxuICAgICAgcm9sZT1cInN0YXR1c1wiXG4gICAgPlxuICAgICAge1xuICAgICAgICBjb25uZWN0aXZpdHlTdGF0dXMgPT09ICdjb25uZWN0aW5nc2xvdycgP1xuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxXYXJuaW5nTm90aWZpY2F0aW9uSWNvbiAvPlxuICAgICAgICAgICAgeyBsb2NhbGl6ZSgnU0xPV19DT05ORUNUSU9OX05PVElGSUNBVElPTicsIGxhbmd1YWdlKSB9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgOiBjb25uZWN0aXZpdHlTdGF0dXMgPT09ICdlcnJvcicgJiZcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8RXJyb3JOb3RpZmljYXRpb25JY29uIC8+XG4gICAgICAgICAgICB7IGxvY2FsaXplKCdGQUlMRURfQ09OTkVDVElPTl9OT1RJRklDQVRJT04nLCBsYW5ndWFnZSkgfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICB9XG4gICAgPC9kaXY+XG5cbilcblxuZXhwb3J0IHsgY29ubmVjdENvbm5lY3Rpdml0eUFsZXJ0IH1cbiJdfQ==