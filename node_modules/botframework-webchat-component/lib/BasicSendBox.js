"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _glamor = require("glamor");

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _ConnectivityStatus = _interopRequireDefault(require("./SendBox/ConnectivityStatus"));

var _connectToWebChat = _interopRequireDefault(require("./connectToWebChat"));

var _DictationInterims = _interopRequireDefault(require("./SendBox/DictationInterims"));

var _MicrophoneButton = _interopRequireDefault(require("./SendBox/MicrophoneButton"));

var _SendButton = _interopRequireDefault(require("./SendBox/SendButton"));

var _SuggestedActions = _interopRequireDefault(require("./SendBox/SuggestedActions"));

var _TextBox = _interopRequireDefault(require("./SendBox/TextBox"));

var _UploadButton = _interopRequireDefault(require("./SendBox/UploadButton"));

var _botframeworkWebchatCore = require("botframework-webchat-core");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _Constants$DictateSta = _botframeworkWebchatCore.Constants.DictateState,
    DICTATING = _Constants$DictateSta.DICTATING,
    STARTING = _Constants$DictateSta.STARTING;
var ROOT_CSS = (0, _glamor.css)({
  '& > .main': {
    display: 'flex'
  }
});
var DICTATION_INTERIMS_CSS = (0, _glamor.css)({
  flex: 10000
});
var MICROPHONE_BUTTON_CSS = (0, _glamor.css)({
  flex: 1
});
var TEXT_BOX_CSS = (0, _glamor.css)({
  flex: 10000
});

var BasicSendBox = function BasicSendBox(_ref) {
  var className = _ref.className,
      dictationStarted = _ref.dictationStarted,
      styleSet = _ref.styleSet,
      webSpeechPonyfill = _ref.webSpeechPonyfill;
  return _react.default.createElement("div", {
    className: (0, _classnames.default)(styleSet.sendBox + '', ROOT_CSS + '', (className || '') + ''),
    role: "form"
  }, _react.default.createElement(_ConnectivityStatus.default, null), _react.default.createElement(_SuggestedActions.default, null), _react.default.createElement("div", {
    className: "main"
  }, !styleSet.options.hideUploadButton && _react.default.createElement(_UploadButton.default, null), dictationStarted ? _react.default.createElement(_DictationInterims.default, {
    className: DICTATION_INTERIMS_CSS
  }) : _react.default.createElement(_TextBox.default, {
    className: TEXT_BOX_CSS
  }), (webSpeechPonyfill || {}).SpeechRecognition ? _react.default.createElement(_MicrophoneButton.default, {
    className: MICROPHONE_BUTTON_CSS
  }) : _react.default.createElement(_SendButton.default, null)));
};

var _default = (0, _connectToWebChat.default)(function (_ref2) {
  var dictateState = _ref2.dictateState,
      styleSet = _ref2.styleSet,
      webSpeechPonyfill = _ref2.webSpeechPonyfill;
  return {
    dictationStarted: dictateState === STARTING || dictateState === DICTATING,
    styleSet: styleSet,
    webSpeechPonyfill: webSpeechPonyfill
  };
})(BasicSendBox);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY1NlbmRCb3guanMiXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiRGljdGF0ZVN0YXRlIiwiRElDVEFUSU5HIiwiU1RBUlRJTkciLCJST09UX0NTUyIsImRpc3BsYXkiLCJESUNUQVRJT05fSU5URVJJTVNfQ1NTIiwiZmxleCIsIk1JQ1JPUEhPTkVfQlVUVE9OX0NTUyIsIlRFWFRfQk9YX0NTUyIsIkJhc2ljU2VuZEJveCIsImNsYXNzTmFtZSIsImRpY3RhdGlvblN0YXJ0ZWQiLCJzdHlsZVNldCIsIndlYlNwZWVjaFBvbnlmaWxsIiwic2VuZEJveCIsIm9wdGlvbnMiLCJoaWRlVXBsb2FkQnV0dG9uIiwiU3BlZWNoUmVjb2duaXRpb24iLCJkaWN0YXRlU3RhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs0QkFPSUEsa0MsQ0FKRkMsWTtJQUNFQyxTLHlCQUFBQSxTO0lBQ0FDLFEseUJBQUFBLFE7QUFJSixJQUFNQyxRQUFRLEdBQUcsaUJBQUk7QUFDbkIsZUFBYTtBQUNYQyxJQUFBQSxPQUFPLEVBQUU7QUFERTtBQURNLENBQUosQ0FBakI7QUFNQSxJQUFNQyxzQkFBc0IsR0FBRyxpQkFBSTtBQUFFQyxFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFKLENBQS9CO0FBQ0EsSUFBTUMscUJBQXFCLEdBQUcsaUJBQUk7QUFBRUQsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBSixDQUE5QjtBQUNBLElBQU1FLFlBQVksR0FBRyxpQkFBSTtBQUFFRixFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFKLENBQXJCOztBQUVBLElBQU1HLFlBQVksR0FBRyxTQUFmQSxZQUFlO0FBQUEsTUFDbkJDLFNBRG1CLFFBQ25CQSxTQURtQjtBQUFBLE1BRW5CQyxnQkFGbUIsUUFFbkJBLGdCQUZtQjtBQUFBLE1BR25CQyxRQUhtQixRQUduQkEsUUFIbUI7QUFBQSxNQUluQkMsaUJBSm1CLFFBSW5CQSxpQkFKbUI7QUFBQSxTQU1uQjtBQUNFLElBQUEsU0FBUyxFQUFHLHlCQUNWRCxRQUFRLENBQUNFLE9BQVQsR0FBbUIsRUFEVCxFQUVWWCxRQUFRLEdBQUcsRUFGRCxFQUdWLENBQUNPLFNBQVMsSUFBSSxFQUFkLElBQW9CLEVBSFYsQ0FEZDtBQU1FLElBQUEsSUFBSSxFQUFDO0FBTlAsS0FRRSw2QkFBQywyQkFBRCxPQVJGLEVBU0UsNkJBQUMseUJBQUQsT0FURixFQVVFO0FBQUssSUFBQSxTQUFTLEVBQUM7QUFBZixLQUNJLENBQUNFLFFBQVEsQ0FBQ0csT0FBVCxDQUFpQkMsZ0JBQWxCLElBQ0EsNkJBQUMscUJBQUQsT0FGSixFQUlJTCxnQkFBZ0IsR0FDZCw2QkFBQywwQkFBRDtBQUFtQixJQUFBLFNBQVMsRUFBR047QUFBL0IsSUFEYyxHQUdkLDZCQUFDLGdCQUFEO0FBQVMsSUFBQSxTQUFTLEVBQUdHO0FBQXJCLElBUE4sRUFTSSxDQUFDSyxpQkFBaUIsSUFBSSxFQUF0QixFQUEwQkksaUJBQTFCLEdBQ0UsNkJBQUMseUJBQUQ7QUFBa0IsSUFBQSxTQUFTLEVBQUdWO0FBQTlCLElBREYsR0FHRSw2QkFBQyxtQkFBRCxPQVpOLENBVkYsQ0FObUI7QUFBQSxDQUFyQjs7ZUFpQ2UsK0JBQ2I7QUFBQSxNQUNFVyxZQURGLFNBQ0VBLFlBREY7QUFBQSxNQUVFTixRQUZGLFNBRUVBLFFBRkY7QUFBQSxNQUdFQyxpQkFIRixTQUdFQSxpQkFIRjtBQUFBLFNBSU87QUFDTEYsSUFBQUEsZ0JBQWdCLEVBQUVPLFlBQVksS0FBS2hCLFFBQWpCLElBQTZCZ0IsWUFBWSxLQUFLakIsU0FEM0Q7QUFFTFcsSUFBQUEsUUFBUSxFQUFSQSxRQUZLO0FBR0xDLElBQUFBLGlCQUFpQixFQUFqQkE7QUFISyxHQUpQO0FBQUEsQ0FEYSxFQVViSixZQVZhLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdnbGFtb3InO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQ29ubmVjdGl2aXR5U3RhdHVzIGZyb20gJy4vU2VuZEJveC9Db25uZWN0aXZpdHlTdGF0dXMnO1xuaW1wb3J0IGNvbm5lY3RUb1dlYkNoYXQgZnJvbSAnLi9jb25uZWN0VG9XZWJDaGF0JztcbmltcG9ydCBEaWN0YXRpb25JbnRlcmltcyBmcm9tICcuL1NlbmRCb3gvRGljdGF0aW9uSW50ZXJpbXMnO1xuaW1wb3J0IE1pY3JvcGhvbmVCdXR0b24gZnJvbSAnLi9TZW5kQm94L01pY3JvcGhvbmVCdXR0b24nO1xuaW1wb3J0IFNlbmRCdXR0b24gZnJvbSAnLi9TZW5kQm94L1NlbmRCdXR0b24nO1xuaW1wb3J0IFN1Z2dlc3RlZEFjdGlvbnMgZnJvbSAnLi9TZW5kQm94L1N1Z2dlc3RlZEFjdGlvbnMnO1xuaW1wb3J0IFRleHRCb3ggZnJvbSAnLi9TZW5kQm94L1RleHRCb3gnO1xuaW1wb3J0IFVwbG9hZEJ1dHRvbiBmcm9tICcuL1NlbmRCb3gvVXBsb2FkQnV0dG9uJztcblxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtY29yZSc7XG5cbmNvbnN0IHtcbiAgRGljdGF0ZVN0YXRlOiB7XG4gICAgRElDVEFUSU5HLFxuICAgIFNUQVJUSU5HXG4gIH1cbn0gPSBDb25zdGFudHM7XG5cbmNvbnN0IFJPT1RfQ1NTID0gY3NzKHtcbiAgJyYgPiAubWFpbic6IHtcbiAgICBkaXNwbGF5OiAnZmxleCdcbiAgfVxufSk7XG5cbmNvbnN0IERJQ1RBVElPTl9JTlRFUklNU19DU1MgPSBjc3MoeyBmbGV4OiAxMDAwMCB9KTtcbmNvbnN0IE1JQ1JPUEhPTkVfQlVUVE9OX0NTUyA9IGNzcyh7IGZsZXg6IDEgfSk7XG5jb25zdCBURVhUX0JPWF9DU1MgPSBjc3MoeyBmbGV4OiAxMDAwMCB9KTtcblxuY29uc3QgQmFzaWNTZW5kQm94ID0gKHtcbiAgY2xhc3NOYW1lLFxuICBkaWN0YXRpb25TdGFydGVkLFxuICBzdHlsZVNldCxcbiAgd2ViU3BlZWNoUG9ueWZpbGxcbn0pID0+XG4gIDxkaXZcbiAgICBjbGFzc05hbWU9eyBjbGFzc05hbWVzKFxuICAgICAgc3R5bGVTZXQuc2VuZEJveCArICcnLFxuICAgICAgUk9PVF9DU1MgKyAnJyxcbiAgICAgIChjbGFzc05hbWUgfHwgJycpICsgJydcbiAgICApIH1cbiAgICByb2xlPVwiZm9ybVwiXG4gID5cbiAgICA8Q29ubmVjdGl2aXR5U3RhdHVzIC8+XG4gICAgPFN1Z2dlc3RlZEFjdGlvbnMgLz5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW5cIj5cbiAgICAgIHsgIXN0eWxlU2V0Lm9wdGlvbnMuaGlkZVVwbG9hZEJ1dHRvbiAmJlxuICAgICAgICA8VXBsb2FkQnV0dG9uIC8+XG4gICAgICB9XG4gICAgICB7IGRpY3RhdGlvblN0YXJ0ZWQgP1xuICAgICAgICAgIDxEaWN0YXRpb25JbnRlcmltcyBjbGFzc05hbWU9eyBESUNUQVRJT05fSU5URVJJTVNfQ1NTIH0gLz5cbiAgICAgICAgOlxuICAgICAgICAgIDxUZXh0Qm94IGNsYXNzTmFtZT17IFRFWFRfQk9YX0NTUyB9IC8+XG4gICAgICB9XG4gICAgICB7ICh3ZWJTcGVlY2hQb255ZmlsbCB8fCB7fSkuU3BlZWNoUmVjb2duaXRpb24gP1xuICAgICAgICAgIDxNaWNyb3Bob25lQnV0dG9uIGNsYXNzTmFtZT17IE1JQ1JPUEhPTkVfQlVUVE9OX0NTUyB9IC8+XG4gICAgICAgIDpcbiAgICAgICAgICA8U2VuZEJ1dHRvbiAvPlxuICAgICAgfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFRvV2ViQ2hhdChcbiAgKHtcbiAgICBkaWN0YXRlU3RhdGUsXG4gICAgc3R5bGVTZXQsXG4gICAgd2ViU3BlZWNoUG9ueWZpbGxcbiAgfSkgPT4gKHtcbiAgICBkaWN0YXRpb25TdGFydGVkOiBkaWN0YXRlU3RhdGUgPT09IFNUQVJUSU5HIHx8IGRpY3RhdGVTdGF0ZSA9PT0gRElDVEFUSU5HLFxuICAgIHN0eWxlU2V0LFxuICAgIHdlYlNwZWVjaFBvbnlmaWxsXG4gIH0pXG4pKEJhc2ljU2VuZEJveClcbiJdfQ==